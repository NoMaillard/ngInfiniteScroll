/* ng-infinite-scroll - v1.3.0 - 2017-09-19 */
!function(a,b){if("function"==typeof define&&define.amd)define(["module","exports","angular"],b);else if("undefined"!=typeof exports)b(module,exports,require("angular"));else{var c={exports:{}};b(c,c.exports,a.angular),a.infiniteScroll=c.exports}}(this,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=d(c),f="infinite-scroll";e.default.module(f,[]).value("THROTTLE_MILLISECONDS",null).directive("infiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(a,b,c,d){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollReverse:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@"},link:function(f,g,h){function i(a){var b=a[0]||a;return isNaN(b.offsetHeight)?b.document.documentElement.clientHeight:b.offsetHeight}function j(a){var b=a[0]||a;return isNaN(window.pageYOffset)?b.document.documentElement.scrollTop:b.ownerDocument.defaultView.pageYOffset}function k(a){if(a[0].getBoundingClientRect&&!a.css("none"))return a[0].getBoundingClientRect().top+j(a)}function l(a){if(a[0].getBoundingClientRect&&!a.css("none"))return a[0].getBoundingClientRect().bottom+j(a)}function m(){var b=void 0,d=void 0;if(f.infiniteScrollReverse)b=k(z),d=l(g);else if(z===v)b=i(z)+j(z[0].document.documentElement),d=k(g)+i(g);else{b=i(z);var e=0;void 0!==k(z)&&(e=k(z)),d=k(g)-e+i(g)}B&&(d=i((g[0].ownerDocument||g[0].document).documentElement)),(f.infiniteScrollReverse?b-d:d-b)<=i(z)*w+1?(y=!0,x&&(f.$$phase||a.$$phase?f.infiniteScroll():f.$apply(f.infiniteScroll))):(D&&c.cancel(D),y=!1)}function n(a,b){function d(){return g=(new Date).getTime(),c.cancel(f),f=null,a.call()}function e(){var e=(new Date).getTime(),h=b-(e-g);h<=0?(c.cancel(f),f=null,g=e,a.call()):f||(f=c(d,h,1))}var f=null,g=0;return e}function o(){z.unbind("scroll",E),null!=C&&(C(),C=null),D&&c.cancel(D)}function p(a){w=parseFloat(a)||0}function q(a){(x=!a)&&y&&(y=!1,E())}function r(a){B=a}function s(a){null!=z&&z.unbind("scroll",E),z=a,null!=a&&z.bind("scroll",E)}function t(a){if(null!=a&&0!==a.length){var b=void 0;if(null==(b=a.nodeType&&1===a.nodeType?e.default.element(a):"function"==typeof a.append?e.default.element(a[a.length-1]):"string"==typeof a?e.default.element(document.querySelector(a)):a))throw new Error("invalid infinite-scroll-container attribute.");s(b)}}function u(){return A&&E(),c.cancel(D)}var v=e.default.element(b),w=null,x=null,y=null,z=null,A=!0,B=!1,C=null,D=!1,E=null!=d?n(m,d):m;return f.$on("$destroy",o),f.$watch("infiniteScrollDistance",p),p(f.infiniteScrollDistance),f.$watch("infiniteScrollDisabled",q),q(f.infiniteScrollDisabled),f.$watch("infiniteScrollUseDocumentBottom",r),r(f.infiniteScrollUseDocumentBottom),s(v),f.infiniteScrollListenForEvent&&(C=a.$on(f.infiniteScrollListenForEvent,E)),f.$watch("infiniteScrollContainer",t),t(f.infiniteScrollContainer||[]),null!=h.infiniteScrollParent&&s(e.default.element(g.parent())),null!=h.infiniteScrollImmediateCheck&&(A=f.$eval(h.infiniteScrollImmediateCheck)),D=c(u)}}}]),b.default=f,a.exports=b.default});